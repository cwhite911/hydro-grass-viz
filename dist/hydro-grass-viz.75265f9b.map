{"version":3,"sources":["images/simwe/data_file.js","node_modules/@turf/helpers/index.js","node_modules/@turf/bbox-polygon/index.js","node_modules/@esri/arcgis-to-geojson-utils/index.js","index.js"],"names":["layerInfos","title","file","bounds","opacity","pointsEqual","a","b","i","length","closeRing","coordinates","push","ringIsClockwise","ringToTest","total","pt2","rLength","pt1","vertexIntersectsVertex","a1","a2","b1","b2","uaT","ubT","uB","ua","ub","arrayIntersectsArray","j","coordinatesContainPoint","point","contains","l","coordinatesContainCoordinates","outer","inner","intersects","convertRingsToGeoJSON","rings","outerRings","x","hole","holes","r","ring","slice","polygon","reverse","uncontainedHoles","pop","contained","type","orientRings","poly","output","outerRing","shift","flattenMultiPolygonRings","shallowClone","obj","target","hasOwnProperty","getId","attributes","idAttribute","keys","key","Error","arcgisToGeoJSON","arcgis","geojson","features","y","z","points","paths","xmin","ymin","xmax","ymax","geometry","properties","id","err","JSON","stringify","spatialReference","wkid","console","warn","geojsonToArcGIS","result","geometries","mapboxgl","accessToken","map","Map","container","zoom","center","pitch","style","hash","addControl","NavigationControl","grassBbox","on","setScaleForLevel","scale","setScale","flyToStore","currentFeature","flyTo","what_spatial_scales_does_this_p","createPopUp","popUps","document","getElementsByClassName","remove","Popup","closeOnClick","setLngLat","setHTML","why_is_this_location_a_problem","how_challenging_is_this_problem","what_is_the_greatest_barrier_to","what_actions_can_be_taken_to_fi","addTo","Element","prototype","parentNode","removeChild","frameCount","currentImage","floodingImages","flood_0_5","flood_1_0","flood_1_5","flood_2_0","flood_2_5","flood_3_0","flood_3_5","flood_4_0","flood_4_5","flood_5_0","addSource","url","addLayer","getSource","layers","labelLayerId","getStyle","layout","buildLevelList","data","levels","prop","listing","getElementById","appendChild","createElement","className","link","href","dataPosition","innerHTML","addEventListener","e","clickedListing","activeItem","classList","add","details","phone","phoneFormatted","forEach","element","log","importedDischarge","fetch","cache","then","res","json","selectedFeatureIndex","queryRenderedFeatures","clickedPoint","selectedFeature","ObjectId"],"mappings":"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","file":"hydro-grass-viz.75265f9b.map","sourceRoot":"..","sourcesContent":["/* This file was generated by r.out.leaflet GRASS GIS module. */\n\nvar layerInfos = [\n   {title: \"D03_37_20171201_20160228_disch.120\", file: \"D03_37_20171201_20160228_disch.120.png\", bounds: [[35.74142458, -78.61239861], [35.75521359, -78.62931361]], opacity: 1.0}\n,   {title: \"D03_37_20079201_20160228_disch.120\", file: \"D03_37_20079201_20160228_disch.120.png\", bounds: [[35.74162043, -78.67980703], [35.75540014, -78.69671067]], opacity: 1.0}\n,   {title: \"D03_37_20170101_20160228_disch.120\", file: \"D03_37_20170101_20160228_disch.120.png\", bounds: [[35.71405388, -78.64622289], [35.72783834, -78.66312646]], opacity: 1.0}\n,   {title: \"D03_37_20171301_20160228_disch.120\", file: \"D03_37_20171301_20160228_disch.120.png\", bounds: [[35.76889760, -78.61226696], [35.78268650, -78.62918773]], opacity: 1.0}\n,   {title: \"D03_37_20079301_20160228_disch.120\", file: \"D03_37_20079301_20160228_disch.120.png\", bounds: [[35.76909351, -78.67969828], [35.78287312, -78.69660768]], opacity: 1.0}\n,   {title: \"D03_37_20172203_20160228_disch.120\", file: \"D03_37_20172203_20160228_disch.120.png\", bounds: [[35.72757609, -78.57876604], [35.74136979, -78.59568383]], opacity: 1.0}\n,   {title: \"D03_37_20079101_20160228_disch.120\", file: \"D03_37_20079101_20160228_disch.120.png\", bounds: [[35.71414711, -78.67991570], [35.72792693, -78.69681359]], opacity: 1.0}\n,   {title: \"D03_37_20171101_20160228_disch.120\", file: \"D03_37_20171101_20160228_disch.120.png\", bounds: [[35.71395133, -78.61253016], [35.72774044, -78.62943940]], opacity: 1.0}\n,   {title: \"D03_37_20170301_20160228_disch.120\", file: \"D03_37_20170301_20160228_disch.120.png\", bounds: [[35.76900022, -78.64598258], [35.78278447, -78.66289767]], opacity: 1.0}\n,   {title: \"D03_37_20172403_20160228_disch.120\", file: \"D03_37_20172403_20160228_disch.120.png\", bounds: [[35.78252204, -78.57847985], [35.79631554, -78.59540919]], opacity: 1.0}\n,   {title: \"D03_37_20170201_20160228_disch.120\", file: \"D03_37_20170201_20160228_disch.120.png\", bounds: [[35.74152717, -78.64610278], [35.75531153, -78.66301210]], opacity: 1.0}\n];\n\nexport default layerInfos;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexports.earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.factors = {\n    centimeters: exports.earthRadius * 100,\n    centimetres: exports.earthRadius * 100,\n    degrees: exports.earthRadius / 111325,\n    feet: exports.earthRadius * 3.28084,\n    inches: exports.earthRadius * 39.370,\n    kilometers: exports.earthRadius / 1000,\n    kilometres: exports.earthRadius / 1000,\n    meters: exports.earthRadius,\n    metres: exports.earthRadius,\n    miles: exports.earthRadius / 1609.344,\n    millimeters: exports.earthRadius * 1000,\n    millimetres: exports.earthRadius * 1000,\n    nauticalmiles: exports.earthRadius / 1852,\n    radians: 1,\n    yards: exports.earthRadius / 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.370,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / exports.earthRadius,\n    yards: 1 / 1.0936,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexports.areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\nexports.feature = feature;\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nfunction geometry(type, coordinates, options) {\n    if (options === void 0) { options = {}; }\n    switch (type) {\n        case \"Point\": return point(coordinates).geometry;\n        case \"LineString\": return lineString(coordinates).geometry;\n        case \"Polygon\": return polygon(coordinates).geometry;\n        case \"MultiPoint\": return multiPoint(coordinates).geometry;\n        case \"MultiLineString\": return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\": return multiPolygon(coordinates).geometry;\n        default: throw new Error(type + \" is invalid\");\n    }\n}\nexports.geometry = geometry;\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.point = point;\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\nexports.points = points;\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.polygon = polygon;\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\nexports.polygons = polygons;\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.lineString = lineString;\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\nexports.lineStrings = lineStrings;\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\nexports.featureCollection = featureCollection;\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiLineString = multiLineString;\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPoint = multiPoint;\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\nexports.multiPolygon = multiPolygon;\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\nexports.geometryCollection = geometryCollection;\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\nexports.round = round;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\nexports.radiansToLength = radiansToLength;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = exports.factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\nexports.lengthToRadians = lengthToRadians;\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, or kilometers inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\nexports.lengthToDegrees = lengthToDegrees;\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\nexports.bearingToAzimuth = bearingToAzimuth;\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return degrees * 180 / Math.PI;\n}\nexports.radiansToDegrees = radiansToDegrees;\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return radians * Math.PI / 180;\n}\nexports.degreesToRadians = degreesToRadians;\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nexports.convertLength = convertLength;\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted distance\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = exports.areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = exports.areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\nexports.convertArea = convertArea;\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num) && !/^\\s*$/.test(num);\n}\nexports.isNumber = isNumber;\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return (!!input) && (input.constructor === Object);\n}\nexports.isObject = isObject;\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\nexports.validateBBox = validateBBox;\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\nexports.validateId = validateId;\n// Deprecated methods\nfunction radians2degrees() {\n    throw new Error(\"method has been renamed to `radiansToDegrees`\");\n}\nexports.radians2degrees = radians2degrees;\nfunction degrees2radians() {\n    throw new Error(\"method has been renamed to `degreesToRadians`\");\n}\nexports.degrees2radians = degrees2radians;\nfunction distanceToDegrees() {\n    throw new Error(\"method has been renamed to `lengthToDegrees`\");\n}\nexports.distanceToDegrees = distanceToDegrees;\nfunction distanceToRadians() {\n    throw new Error(\"method has been renamed to `lengthToRadians`\");\n}\nexports.distanceToRadians = distanceToRadians;\nfunction radiansToDistance() {\n    throw new Error(\"method has been renamed to `radiansToLength`\");\n}\nexports.radiansToDistance = radiansToDistance;\nfunction bearingToAngle() {\n    throw new Error(\"method has been renamed to `bearingToAzimuth`\");\n}\nexports.bearingToAngle = bearingToAngle;\nfunction convertDistance() {\n    throw new Error(\"method has been renamed to `convertLength`\");\n}\nexports.convertDistance = convertDistance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = require(\"@turf/helpers\");\n/**\n * Takes a bbox and returns an equivalent {@link Polygon|polygon}.\n *\n * @name bboxPolygon\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @param {Object} [options={}] Optional parameters\n * @param {Properties} [options.properties={}] Translate properties to Polygon\n * @param {string|number} [options.id={}] Translate Id to Polygon\n * @returns {Feature<Polygon>} a Polygon representation of the bounding box\n * @example\n * var bbox = [0, 0, 10, 10];\n *\n * var poly = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [poly]\n */\nfunction bboxPolygon(bbox, options) {\n    if (options === void 0) { options = {}; }\n    // Convert BBox positions to Numbers\n    // No performance loss for including Number()\n    // https://github.com/Turfjs/turf/issues/1119\n    var west = Number(bbox[0]);\n    var south = Number(bbox[1]);\n    var east = Number(bbox[2]);\n    var north = Number(bbox[3]);\n    if (bbox.length === 6) {\n        throw new Error(\"@turf/bbox-polygon does not support BBox with 6 positions\");\n    }\n    var lowLeft = [west, south];\n    var topLeft = [west, north];\n    var topRight = [east, north];\n    var lowRight = [east, south];\n    return helpers_1.polygon([[\n            lowLeft,\n            lowRight,\n            topRight,\n            topLeft,\n            lowLeft,\n        ]], options.properties, { bbox: bbox, id: options.id });\n}\nexports.default = bboxPolygon;\n","/*\n * Copyright 2017 Esri\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// checks if 2 x,y points are equal\nfunction pointsEqual (a, b) {\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// checks if the first and last points of a ring are equal and closes the ring\nfunction closeRing (coordinates) {\n  if (!pointsEqual(coordinates[0], coordinates[coordinates.length - 1])) {\n    coordinates.push(coordinates[0]);\n  }\n  return coordinates;\n}\n\n// determine if polygon ring coordinates are clockwise. clockwise signifies outer ring, counter-clockwise an inner ring\n// or hole. this logic was found at http://stackoverflow.com/questions/1165647/how-to-determine-if-a-list-of-polygon-\n// points-are-in-clockwise-order\nfunction ringIsClockwise (ringToTest) {\n  var total = 0;\n  var i = 0;\n  var rLength = ringToTest.length;\n  var pt1 = ringToTest[i];\n  var pt2;\n  for (i; i < rLength - 1; i++) {\n    pt2 = ringToTest[i + 1];\n    total += (pt2[0] - pt1[0]) * (pt2[1] + pt1[1]);\n    pt1 = pt2;\n  }\n  return (total >= 0);\n}\n\n// ported from terraformer.js https://github.com/Esri/Terraformer/blob/master/terraformer.js#L504-L519\nfunction vertexIntersectsVertex (a1, a2, b1, b2) {\n  var uaT = ((b2[0] - b1[0]) * (a1[1] - b1[1])) - ((b2[1] - b1[1]) * (a1[0] - b1[0]));\n  var ubT = ((a2[0] - a1[0]) * (a1[1] - b1[1])) - ((a2[1] - a1[1]) * (a1[0] - b1[0]));\n  var uB = ((b2[1] - b1[1]) * (a2[0] - a1[0])) - ((b2[0] - b1[0]) * (a2[1] - a1[1]));\n\n  if (uB !== 0) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// ported from terraformer.js https://github.com/Esri/Terraformer/blob/master/terraformer.js#L521-L531\nfunction arrayIntersectsArray (a, b) {\n  for (var i = 0; i < a.length - 1; i++) {\n    for (var j = 0; j < b.length - 1; j++) {\n      if (vertexIntersectsVertex(a[i], a[i + 1], b[j], b[j + 1])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n// ported from terraformer.js https://github.com/Esri/Terraformer/blob/master/terraformer.js#L470-L480\nfunction coordinatesContainPoint (coordinates, point) {\n  var contains = false;\n  for (var i = -1, l = coordinates.length, j = l - 1; ++i < l; j = i) {\n    if (((coordinates[i][1] <= point[1] && point[1] < coordinates[j][1]) ||\n         (coordinates[j][1] <= point[1] && point[1] < coordinates[i][1])) &&\n        (point[0] < (((coordinates[j][0] - coordinates[i][0]) * (point[1] - coordinates[i][1])) / (coordinates[j][1] - coordinates[i][1])) + coordinates[i][0])) {\n      contains = !contains;\n    }\n  }\n  return contains;\n}\n\n// ported from terraformer-arcgis-parser.js https://github.com/Esri/terraformer-arcgis-parser/blob/master/terraformer-arcgis-parser.js#L106-L113\nfunction coordinatesContainCoordinates (outer, inner) {\n  var intersects = arrayIntersectsArray(outer, inner);\n  var contains = coordinatesContainPoint(outer, inner[0]);\n  if (!intersects && contains) {\n    return true;\n  }\n  return false;\n}\n\n// do any polygons in this array contain any other polygons in this array?\n// used for checking for holes in arcgis rings\n// ported from terraformer-arcgis-parser.js https://github.com/Esri/terraformer-arcgis-parser/blob/master/terraformer-arcgis-parser.js#L117-L172\nfunction convertRingsToGeoJSON (rings) {\n  var outerRings = [];\n  var holes = [];\n  var x; // iterator\n  var outerRing; // current outer ring being evaluated\n  var hole; // current hole being evaluated\n\n  // for each ring\n  for (var r = 0; r < rings.length; r++) {\n    var ring = closeRing(rings[r].slice(0));\n    if (ring.length < 4) {\n      continue;\n    }\n    // is this ring an outer ring? is it clockwise?\n    if (ringIsClockwise(ring)) {\n      var polygon = [ ring.slice().reverse() ]; // wind outer rings counterclockwise for RFC 7946 compliance\n      outerRings.push(polygon); // push to outer rings\n    } else {\n      holes.push(ring.slice().reverse()); // wind inner rings clockwise for RFC 7946 compliance\n    }\n  }\n\n  var uncontainedHoles = [];\n\n  // while there are holes left...\n  while (holes.length) {\n    // pop a hole off out stack\n    hole = holes.pop();\n\n    // loop over all outer rings and see if they contain our hole.\n    var contained = false;\n    for (x = outerRings.length - 1; x >= 0; x--) {\n      outerRing = outerRings[x][0];\n      if (coordinatesContainCoordinates(outerRing, hole)) {\n        // the hole is contained push it into our polygon\n        outerRings[x].push(hole);\n        contained = true;\n        break;\n      }\n    }\n\n    // ring is not contained in any outer ring\n    // sometimes this happens https://github.com/Esri/esri-leaflet/issues/320\n    if (!contained) {\n      uncontainedHoles.push(hole);\n    }\n  }\n\n  // if we couldn't match any holes using contains we can try intersects...\n  while (uncontainedHoles.length) {\n    // pop a hole off out stack\n    hole = uncontainedHoles.pop();\n\n    // loop over all outer rings and see if any intersect our hole.\n    var intersects = false;\n\n    for (x = outerRings.length - 1; x >= 0; x--) {\n      outerRing = outerRings[x][0];\n      if (arrayIntersectsArray(outerRing, hole)) {\n        // the hole is contained push it into our polygon\n        outerRings[x].push(hole);\n        intersects = true;\n        break;\n      }\n    }\n\n    if (!intersects) {\n      outerRings.push([hole.reverse()]);\n    }\n  }\n\n  if (outerRings.length === 1) {\n    return {\n      type: 'Polygon',\n      coordinates: outerRings[0]\n    };\n  } else {\n    return {\n      type: 'MultiPolygon',\n      coordinates: outerRings\n    };\n  }\n}\n\n// This function ensures that rings are oriented in the right directions\n// outer rings are clockwise, holes are counterclockwise\n// used for converting GeoJSON Polygons to ArcGIS Polygons\nfunction orientRings (poly) {\n  var output = [];\n  var polygon = poly.slice(0);\n  var outerRing = closeRing(polygon.shift().slice(0));\n  if (outerRing.length >= 4) {\n    if (!ringIsClockwise(outerRing)) {\n      outerRing.reverse();\n    }\n\n    output.push(outerRing);\n\n    for (var i = 0; i < polygon.length; i++) {\n      var hole = closeRing(polygon[i].slice(0));\n      if (hole.length >= 4) {\n        if (ringIsClockwise(hole)) {\n          hole.reverse();\n        }\n        output.push(hole);\n      }\n    }\n  }\n\n  return output;\n}\n\n// This function flattens holes in multipolygons to one array of polygons\n// used for converting GeoJSON Polygons to ArcGIS Polygons\nfunction flattenMultiPolygonRings (rings) {\n  var output = [];\n  for (var i = 0; i < rings.length; i++) {\n    var polygon = orientRings(rings[i]);\n    for (var x = polygon.length - 1; x >= 0; x--) {\n      var ring = polygon[x].slice(0);\n      output.push(ring);\n    }\n  }\n  return output;\n}\n\n// shallow object clone for feature properties and attributes\n// from http://jsperf.com/cloning-an-object/2\nfunction shallowClone (obj) {\n  var target = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      target[i] = obj[i];\n    }\n  }\n  return target;\n}\n\nfunction getId (attributes, idAttribute) {\n  var keys = idAttribute ? [idAttribute, 'OBJECTID', 'FID'] : ['OBJECTID', 'FID'];\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (\n      key in attributes &&\n      (typeof attributes[key] === 'string' ||\n        typeof attributes[key] === 'number')\n    ) {\n      return attributes[key];\n    }\n  }\n  throw Error('No valid id attribute found');\n}\n\nexport function arcgisToGeoJSON (arcgis, idAttribute) {\n  var geojson = {};\n\n  if (arcgis.features) {\n    geojson.type = 'FeatureCollection';\n    geojson.features = [];\n    for (var i = 0; i < arcgis.features.length; i++) {\n      geojson.features.push(arcgisToGeoJSON(arcgis.features[i], idAttribute));\n    }\n  }\n\n  if (typeof arcgis.x === 'number' && typeof arcgis.y === 'number') {\n    geojson.type = 'Point';\n    geojson.coordinates = [arcgis.x, arcgis.y];\n    if (typeof arcgis.z === 'number') {\n      geojson.coordinates.push(arcgis.z);\n    }\n  }\n\n  if (arcgis.points) {\n    geojson.type = 'MultiPoint';\n    geojson.coordinates = arcgis.points.slice(0);\n  }\n\n  if (arcgis.paths) {\n    if (arcgis.paths.length === 1) {\n      geojson.type = 'LineString';\n      geojson.coordinates = arcgis.paths[0].slice(0);\n    } else {\n      geojson.type = 'MultiLineString';\n      geojson.coordinates = arcgis.paths.slice(0);\n    }\n  }\n\n  if (arcgis.rings) {\n    geojson = convertRingsToGeoJSON(arcgis.rings.slice(0));\n  }\n\n  if (\n    typeof arcgis.xmin === 'number' &&\n    typeof arcgis.ymin === 'number' &&\n    typeof arcgis.xmax === 'number' &&\n    typeof arcgis.ymax === 'number'\n  ) {\n    geojson.type = 'Polygon';\n    geojson.coordinates = [[\n      [arcgis.xmax, arcgis.ymax],\n      [arcgis.xmin, arcgis.ymax],\n      [arcgis.xmin, arcgis.ymin],\n      [arcgis.xmax, arcgis.ymin],\n      [arcgis.xmax, arcgis.ymax]\n    ]];\n  }\n\n  if (arcgis.geometry || arcgis.attributes) {\n    geojson.type = 'Feature';\n    geojson.geometry = (arcgis.geometry) ? arcgisToGeoJSON(arcgis.geometry) : null;\n    geojson.properties = (arcgis.attributes) ? shallowClone(arcgis.attributes) : null;\n    if (arcgis.attributes) {\n      try {\n        geojson.id = getId(arcgis.attributes, idAttribute);\n      } catch (err) {\n        // don't set an id\n      }\n    }\n  }\n\n  // if no valid geometry was encountered\n  if (JSON.stringify(geojson.geometry) === JSON.stringify({})) {\n    geojson.geometry = null;\n  }\n\n  if (\n    arcgis.spatialReference &&\n    arcgis.spatialReference.wkid &&\n    arcgis.spatialReference.wkid !== 4326\n  ) {\n    console.warn('Object converted in non-standard crs - ' + JSON.stringify(arcgis.spatialReference));\n  }\n\n  return geojson;\n}\n\nexport function geojsonToArcGIS (geojson, idAttribute) {\n  idAttribute = idAttribute || 'OBJECTID';\n  var spatialReference = { wkid: 4326 };\n  var result = {};\n  var i;\n\n  switch (geojson.type) {\n    case 'Point':\n      result.x = geojson.coordinates[0];\n      result.y = geojson.coordinates[1];\n      result.spatialReference = spatialReference;\n      break;\n    case 'MultiPoint':\n      result.points = geojson.coordinates.slice(0);\n      result.spatialReference = spatialReference;\n      break;\n    case 'LineString':\n      result.paths = [geojson.coordinates.slice(0)];\n      result.spatialReference = spatialReference;\n      break;\n    case 'MultiLineString':\n      result.paths = geojson.coordinates.slice(0);\n      result.spatialReference = spatialReference;\n      break;\n    case 'Polygon':\n      result.rings = orientRings(geojson.coordinates.slice(0));\n      result.spatialReference = spatialReference;\n      break;\n    case 'MultiPolygon':\n      result.rings = flattenMultiPolygonRings(geojson.coordinates.slice(0));\n      result.spatialReference = spatialReference;\n      break;\n    case 'Feature':\n      if (geojson.geometry) {\n        result.geometry = geojsonToArcGIS(geojson.geometry, idAttribute);\n      }\n      result.attributes = (geojson.properties) ? shallowClone(geojson.properties) : {};\n      if (geojson.id) {\n        result.attributes[idAttribute] = geojson.id;\n      }\n      break;\n    case 'FeatureCollection':\n      result = [];\n      for (i = 0; i < geojson.features.length; i++) {\n        result.push(geojsonToArcGIS(geojson.features[i], idAttribute));\n      }\n      break;\n    case 'GeometryCollection':\n      result = [];\n      for (i = 0; i < geojson.geometries.length; i++) {\n        result.push(geojsonToArcGIS(geojson.geometries[i], idAttribute));\n      }\n      break;\n  }\n\n  return result;\n}\n\nexport default { arcgisToGeoJSON: arcgisToGeoJSON, geojsonToArcGIS: geojsonToArcGIS };\n","import flood_0_5 from './images/inundation_0.5.png';\nimport flood_1_0 from './images/inundation_1.0.png';\nimport flood_1_5 from './images/inundation_1.5.png';\nimport flood_2_0 from './images/inundation_2.0.png';\nimport flood_2_5 from './images/inundation_2.5.png';\nimport flood_3_0 from './images/inundation_3.0.png';\nimport flood_3_5 from './images/inundation_3.5.png';\nimport flood_4_0 from './images/inundation_4.0.png';\nimport flood_4_5 from './images/inundation_4.5.png';\nimport flood_5_0 from './images/inundation_5.0.png';\nimport simwe from './images/simwe/data_file';\nimport discharge020 from './images/disch_2m.020.png';\nimport discharge040 from './images/disch_2m.040.png';\nimport discharge060 from './images/disch_2m.060.png';\nimport discharge080 from './images/disch_2m.080.png';\nimport discharge100 from './images/disch_2m.100.png';\nimport discharge120 from './images/disch_2m.120.png';\nimport flooding_gif from './images/flooding1.gif';\nimport importedDischarge from './images/simwe/*.png'\nimport bboxPolygon from '@turf/bbox-polygon';\n\n// import React, {Component} from 'react';\n// import {render} from 'react-dom';\n// import {StaticMap} from 'react-map-gl';\n// import DeckGL, {ScreenGridLayer} from 'deck.gl';\n// import {isWebGL2} from 'luma.gl';\nimport { arcgisToGeoJSON } from '@esri/arcgis-to-geojson-utils';\n\n\n\nmapboxgl.accessToken = process.env.MapboxAccessToken;\nconst map = new mapboxgl.Map({\n    container: 'map',\n    zoom: 12,\n    center: [-78.6319,35.7099],\n    pitch: 45,\n    style: 'mapbox://styles/ctwhite/cjtnhxudz2j4l1fs74h5hygce',\n    hash: true\n}).addControl(new mapboxgl.NavigationControl());\n\n//Convert Bounds to match mapbox gl source specs\nfunction grassBbox(bounds) {\n    return [\n        [bounds[1][1], bounds[1][0]],\n        [bounds[0][1], bounds[1][0]],\n        [bounds[0][1], bounds[0][0]],           \n        [bounds[1][1], bounds[0][0]]\n    ];\n}\n\nmap.on('load', () => {\n\n    function setScaleForLevel(scale) {\n        let setScale = 15;\n        switch (scale) {\n            case 'Household':\n                setScale = 17;\n                break;\n            case 'Neighborhood':\n                setScale = 15;\n                break;\n            case 'City':\n                setScale = 12;\n                break;\n            case 'Region':\n                setScale = 10;\n                break;\n            default:\n                setScale = 15;\n        }\n        return setScale;\n    }\n\n    function flyToStore(currentFeature) {\n        map.flyTo({\n          center: currentFeature.geometry.coordinates,\n          zoom: setScaleForLevel(currentFeature.properties.what_spatial_scales_does_this_p)\n        });\n      }\n      \n      function createPopUp(currentFeature) {\n        var popUps = document.getElementsByClassName('mapboxgl-popup');\n        // Check if there is already a popup on the map and if so, remove it\n        if (popUps[0]) popUps[0].remove();\n      \n        var popup = new mapboxgl.Popup({ closeOnClick: true })\n          .setLngLat(currentFeature.geometry.coordinates)\n          .setHTML(`<h3>${currentFeature.properties.why_is_this_location_a_problem}</h3>` +\n            '<h4><strong>Difficulty: </strong>' + currentFeature.properties.how_challenging_is_this_problem + '</h4>' +\n            '<h4><strong>Challenge: </strong>' + currentFeature.properties.why_is_this_location_a_problem + '</h4>' +\n            '<h4><strong>Obstacle: </strong>' + currentFeature.properties.what_is_the_greatest_barrier_to + '</h4>' +\n            '<h4><strong>Supplies: </strong>' + currentFeature.properties.what_actions_can_be_taken_to_fi + '</h4>' +\n            '<h4>Get Started!</h4>'\n            )\n          .addTo(map);\n      }\n\n      // This will let you use the .remove() function later on\n        if (!('remove' in Element.prototype)) {\n            Element.prototype.remove = function() {\n            if (this.parentNode) {\n                this.parentNode.removeChild(this);\n            }\n            };\n        }\n\n    // //Discharge GIF\n    // var currentDischargeImage = 0;\n    // var dischargeImages = [discharge020, discharge040, discharge060, discharge080, discharge100, discharge120];\n    // function getDischargePath() {\n    //     return dischargeImages[currentDischargeImage];\n    // }\n    \n \n    //Flooding GIF\n    var frameCount = 10;\n    var currentImage = 9;\n    var floodingImages = [flood_0_5, flood_1_0, flood_1_5, flood_2_0, flood_2_5, flood_3_0, flood_3_5, flood_4_0, flood_4_5, flood_5_0];\n    function getPath() {\n        return floodingImages[currentImage];\n    }\n\n\n    map.addSource('floodOverlay', {\n        type: 'image',\n        url: getPath(),\n        coordinates: [\n            [-78.7746204947222, 35.8096093825],\n            [-78.6083031766667, 35.8096093825],\n            [-78.6083031766667, 35.6875072969444],\n            [-78.7746204947222, 35.6875072969444]    \n        ]\n     });\n\n    map.addLayer({\n        \"id\": \"floodOverlay\",\n        \"source\": \"floodOverlay\",\n        \"type\": \"raster\",\n        \"paint\": {\n            \"raster-opacity\": 0.85,\n            \"raster-fade-duration\": 0\n        }\n    });\n\n    // setInterval(function() {\n    //     currentImage = currentImage + 1;\n    //     if (currentImage == 10) {\n    //         currentImage = 0;\n    //     }\n    //     map.getSource(\"floodOverlay\").updateImage({ url: getPath() });\n    // }, 200);\n\n    if (! map.getSource('composite')) {map.addSource('composite', { type: 'vector', url: 'mapbox://mapbox.mapbox-streets-v7'});}\n\n    const layers = map.getStyle().layers;\n \n    let labelLayerId;\n    for (var i = 0; i < layers.length; i++) {\n        if (layers[i].type === 'symbol' && layers[i].layout['text-field']) {\n        labelLayerId = layers[i].id;\n        break;\n        }\n    }\n    map.addLayer({\n        'id': '3d-buildings',\n        'source': 'composite',\n        'source-layer': 'building',\n        'filter': ['==', 'extrude', 'true'],\n        'type': 'fill-extrusion',\n        'minzoom': 14,\n        'paint': {\n            'fill-extrusion-color': '#aaa',\n            // use an 'interpolate' expression to add a smooth transition effect to the\n            // buildings as the user zooms in\n            'fill-extrusion-height': [\n                \"interpolate\", [\"linear\"], [\"zoom\"],\n                14, 0,\n                14.05, [\"get\", \"height\"]\n            ],\n            'fill-extrusion-base': [\n                \"interpolate\", [\"linear\"], [\"zoom\"],\n                14, 0,\n                14.05, [\"get\", \"min_height\"]\n            ],\n            'fill-extrusion-opacity': 1\n            }\n        }, labelLayerId);\n\n        simwe.forEach(element => {\n            console.log(importedDischarge[element.title])\n            map.addSource(element.title, {\n                type: 'image',\n                url: importedDischarge[element.title],\n                coordinates: grassBbox(element.bounds)\n            });\n    \n            map.addLayer({\n                \"id\": element.title,\n                \"source\": element.title,\n                \"type\": \"raster\",\n                \"paint\": {\n                    \"raster-opacity\": 0.60,\n                    \"raster-fade-duration\": 2\n                }\n            });\n        });\n\n    function buildLevelList(data) {\n        if (data.features.length !== levels.length) {\n        // Iterate through the list of stores\n        for (i = 0; i < data.features.length; i++) {\n          var currentFeature = data.features[i];\n          // Shorten data.feature.properties to `prop` so we're not\n          // writing this long form over and over again.\n          var prop = currentFeature.properties;\n          // Select the listing container in the HTML and append a div\n          // with the class 'item' for each store\n          var listings = document.getElementById('listings');\n          var listing = listings.appendChild(document.createElement('div'));\n          listing.className = 'item';\n          listing.id = 'listing-' + i;\n      \n          // Create a new link with the class 'title' for each store\n          // and fill it with the store address\n          var link = listing.appendChild(document.createElement('a'));\n          link.href = '#';\n          link.className = 'level-title';\n          link.dataPosition = i;\n          link.innerHTML = prop.why_is_this_location_a_problem;\n\n           // Add an event listener for the links in the sidebar listing\n        link.addEventListener('click', function(e) {\n            // Update the currentFeature to the store associated with the clicked link\n            var clickedListing = data.features[this.dataPosition];\n            // 1. Fly to the point associated with the clicked link\n            flyToStore(clickedListing);\n            // 2. Close all other popups and display popup for clicked store\n            createPopUp(clickedListing);\n            // 3. Highlight listing in sidebar (and remove highlight for all other listings)\n            var activeItem = document.getElementsByClassName('active');\n            if (activeItem[0]) {\n            activeItem[0].classList.remove('active');\n            }\n            this.parentNode.classList.add('active');\n        });\n      \n          // Create a new div with the class 'details' for each store\n          // and fill it with the city and phone number\n          var details = listing.appendChild(document.createElement('div'));\n          details.innerHTML = prop.how_challenging_is_this_problem;\n          if (prop.phone) {\n            details.innerHTML += '  ' + prop.phoneFormatted;\n          }\n        }\n    }\n      }\n      \n\n      let levels = fetch(`https://services1.arcgis.com/aT1T0pU1ZdpuDk1t/ArcGIS/rest/services/survey123_571499fe84ac4125abe48b793b9970a3_stakeholder/FeatureServer/0/query?f=json&returnGeometry=true&inSR=102100&outFields=*&outSR=4326&where=1=1`, {\n        cache: \"reload\"\n      })\n        .then(res=> res.json())\n        .then(json=> arcgisToGeoJSON(json))\n        .then(levels=> {\n            console.log(\"levels\",levels);\n            map.addSource('levels', {\n                \"type\": \"geojson\",\n                \"data\": levels\n                });\n                map.addLayer({\n                    \"id\": \"levels\",\n                    \"source\": \"levels\",\n                    \"type\": \"circle\",\n                    \"paint\": {\n                    \"circle-radius\": 10,\n                    \"circle-color\": \"#FFE100\",\n                    \"circle-opacity\": 0.8\n                    // 'fill-extrusion-color': '#FFE100',\n                    // use an 'interpolate' expression to add a smooth transition effect to the\n                    // buildings as the user zooms in\n                    // 'fill-extrusion-height': 100,\n                    // 'fill-extrusion-base': [\n                    //     \"interpolate\", [\"linear\"], [\"zoom\"],\n                    //     14, 0,\n                    //     14.05, 0\n                    // ],\n                    // 'fill-extrusion-opacity': 0.8\n                    }\n                    // \"type\": \"symbol\",\n                    // \"layout\": {\n                    //     \"icon-image\": \"star-15\",\n                    //     // \"text-field\": \"{title}\",\n                    //     \"text-font\": [\"Open Sans Semibold\", \"Arial Unicode MS Bold\"],\n                    //     \"text-offset\": [0, 0.6],\n                    //     \"text-anchor\": \"top\",\n                    //     \"icon-color\": \"#e00000\"\n                    //     }\n                });\n\n                map.addLayer({\n                    \"id\": \"earthquakes-heat\",\n                    \"type\": \"heatmap\",\n                    \"source\": \"levels\",\n                    \"maxzoom\": 9,\n                    \"paint\": {\n                    // Increase the heatmap weight based on frequency and property magnitude\n                    // \"heatmap-weight\": [\n                    // \"interpolate\",\n                    // [\"linear\"],\n                    // [\"get\", \"mag\"],\n                    // 0, 0,\n                    // 6, 1\n                    // ],\n                    // Increase the heatmap color weight weight by zoom level\n                    // heatmap-intensity is a multiplier on top of heatmap-weight\n                    \"heatmap-intensity\": [\n                    \"interpolate\",\n                    [\"linear\"],\n                    [\"zoom\"],\n                    0, 1,\n                    9, 3\n                    ],\n                    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n                    // Begin color ramp at 0-stop with a 0-transparancy color\n                    // to create a blur-like effect.\n                    \"heatmap-color\": [\n                    \"interpolate\",\n                    [\"linear\"],\n                    [\"heatmap-density\"],\n                    0, \"rgba(33,102,172,0)\",\n                    0.2, \"rgb(103,169,207)\",\n                    0.4, \"rgb(209,229,240)\",\n                    0.6, \"rgb(253,219,199)\",\n                    0.8, \"rgb(239,138,98)\",\n                    1, \"rgb(178,24,43)\"\n                    ],\n                    // Adjust the heatmap radius by zoom level\n                    \"heatmap-radius\": [\n                    \"interpolate\",\n                    [\"linear\"],\n                    [\"zoom\"],\n                    0, 2,\n                    9, 20\n                    ],\n                    // Transition from heatmap to circle layer by zoom level\n                    \"heatmap-opacity\": [\n                    \"interpolate\",\n                    [\"linear\"],\n                    [\"zoom\"],\n                    7, 1,\n                    9, 0\n                    ],\n                    }\n                    });\n                buildLevelList(levels);\n                        // Add an event listener for when a user clicks on the map\n                map.on('click', function(e) {\n                    // Query all the rendered points in the view\n                    var selectedFeatureIndex;\n                    var features = map.queryRenderedFeatures(e.point, { layers: ['levels'] });\n                    if (features.length) {\n                    var clickedPoint = features[0];\n                    // 1. Fly to the point\n                    flyToStore(clickedPoint);\n                    // 2. Close all other popups and display popup for clicked store\n                    createPopUp(clickedPoint);\n                    // 3. Highlight listing in sidebar (and remove highlight for all other listings)\n                    var activeItem = document.getElementsByClassName('active');\n                    if (activeItem[0]) {\n                        activeItem[0].classList.remove('active');\n                    }\n                    // Find the index of the store.features that corresponds to the clickedPoint that fired the event listener\n                    var selectedFeature = clickedPoint.properties.ObjectId;\n                    \n                    for (var i = 0; i < levels.features.length; i++) {\n                        if (levels.features[i].properties.ObjectId === selectedFeature) {\n                        selectedFeatureIndex = i;\n                        }\n                    }\n                    // Select the correct list item using the found index and add the active class\n                    var listing = document.getElementById('listing-' + selectedFeatureIndex);\n                    listing.classList.add('active');\n                    }\n                });\n            return levels;\n        });\n\n       \n\n\n  \n        \n        \n\n\n       // Add the data to your map as a layer\n \n   \n\n    \n  \n\n});\n"]}