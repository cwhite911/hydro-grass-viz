parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"+gri":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_0.5.8800a5e4.png";
},{}],"AyWZ":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_1.0.4d4195e8.png";
},{}],"1UVG":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_1.5.3ede965b.png";
},{}],"b6cs":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_2.0.7aaebb07.png";
},{}],"zk5D":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_2.5.50f13bd7.png";
},{}],"QUR0":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_3.0.fb076098.png";
},{}],"Vmp+":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_3.5.e96b560c.png";
},{}],"9i6f":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_4.0.08fd854b.png";
},{}],"OwJT":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_4.5.dcf8e28d.png";
},{}],"p/W+":[function(require,module,exports) {
module.exports="/hydro-grass-viz/inundation_5.0.89f93169.png";
},{}],"ArK8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _=[{title:"D03_37_20171201_20160228_disch.120",file:"D03_37_20171201_20160228_disch.120.png",bounds:[[35.74142458,-78.61239861],[35.75521359,-78.62931361]],opacity:1},{title:"D03_37_20079201_20160228_disch.120",file:"D03_37_20079201_20160228_disch.120.png",bounds:[[35.74162043,-78.67980703],[35.75540014,-78.69671067]],opacity:1},{title:"D03_37_20170101_20160228_disch.120",file:"D03_37_20170101_20160228_disch.120.png",bounds:[[35.71405388,-78.64622289],[35.72783834,-78.66312646]],opacity:1},{title:"D03_37_20171301_20160228_disch.120",file:"D03_37_20171301_20160228_disch.120.png",bounds:[[35.7688976,-78.61226696],[35.7826865,-78.62918773]],opacity:1},{title:"D03_37_20079301_20160228_disch.120",file:"D03_37_20079301_20160228_disch.120.png",bounds:[[35.76909351,-78.67969828],[35.78287312,-78.69660768]],opacity:1},{title:"D03_37_20172203_20160228_disch.120",file:"D03_37_20172203_20160228_disch.120.png",bounds:[[35.72757609,-78.57876604],[35.74136979,-78.59568383]],opacity:1},{title:"D03_37_20079101_20160228_disch.120",file:"D03_37_20079101_20160228_disch.120.png",bounds:[[35.71414711,-78.6799157],[35.72792693,-78.69681359]],opacity:1},{title:"D03_37_20171101_20160228_disch.120",file:"D03_37_20171101_20160228_disch.120.png",bounds:[[35.71395133,-78.61253016],[35.72774044,-78.6294394]],opacity:1},{title:"D03_37_20170301_20160228_disch.120",file:"D03_37_20170301_20160228_disch.120.png",bounds:[[35.76900022,-78.64598258],[35.78278447,-78.66289767]],opacity:1},{title:"D03_37_20172403_20160228_disch.120",file:"D03_37_20172403_20160228_disch.120.png",bounds:[[35.78252204,-78.57847985],[35.79631554,-78.59540919]],opacity:1},{title:"D03_37_20170201_20160228_disch.120",file:"D03_37_20170201_20160228_disch.120.png",bounds:[[35.74152717,-78.64610278],[35.75531153,-78.6630121]],opacity:1}],i=_;exports.default=i;
},{}],"QGMT":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20079101_20160228_disch.120.31d9db6d.png";
},{}],"W7v+":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20079201_20160228_disch.120.988d2564.png";
},{}],"OcJk":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20079301_20160228_disch.120.2b332fb7.png";
},{}],"jTs0":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20170101_20160228_disch.120.066fc8e7.png";
},{}],"d4l9":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20170201_20160228_disch.120.57c8d0ca.png";
},{}],"Xq8o":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20170301_20160228_disch.120.82f29d8f.png";
},{}],"7kTg":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20171101_20160228_disch.120.dc517985.png";
},{}],"NGxH":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20171201_20160228_disch.120.a9e5a7a3.png";
},{}],"qHai":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20171301_20160228_disch.120.d2540193.png";
},{}],"0Cxw":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20172203_20160228_disch.120.45268283.png";
},{}],"ANbW":[function(require,module,exports) {
module.exports="/hydro-grass-viz/D03_37_20172403_20160228_disch.120.286927cb.png";
},{}],"RjcH":[function(require,module,exports) {
module.exports={"D03_37_20079101_20160228_disch.120":require("./D03_37_20079101_20160228_disch.120.png"),"D03_37_20079201_20160228_disch.120":require("./D03_37_20079201_20160228_disch.120.png"),"D03_37_20079301_20160228_disch.120":require("./D03_37_20079301_20160228_disch.120.png"),"D03_37_20170101_20160228_disch.120":require("./D03_37_20170101_20160228_disch.120.png"),"D03_37_20170201_20160228_disch.120":require("./D03_37_20170201_20160228_disch.120.png"),"D03_37_20170301_20160228_disch.120":require("./D03_37_20170301_20160228_disch.120.png"),"D03_37_20171101_20160228_disch.120":require("./D03_37_20171101_20160228_disch.120.png"),"D03_37_20171201_20160228_disch.120":require("./D03_37_20171201_20160228_disch.120.png"),"D03_37_20171301_20160228_disch.120":require("./D03_37_20171301_20160228_disch.120.png"),"D03_37_20172203_20160228_disch.120":require("./D03_37_20172203_20160228_disch.120.png"),"D03_37_20172403_20160228_disch.120":require("./D03_37_20172403_20160228_disch.120.png")};
},{"./D03_37_20079101_20160228_disch.120.png":"QGMT","./D03_37_20079201_20160228_disch.120.png":"W7v+","./D03_37_20079301_20160228_disch.120.png":"OcJk","./D03_37_20170101_20160228_disch.120.png":"jTs0","./D03_37_20170201_20160228_disch.120.png":"d4l9","./D03_37_20170301_20160228_disch.120.png":"Xq8o","./D03_37_20171101_20160228_disch.120.png":"7kTg","./D03_37_20171201_20160228_disch.120.png":"NGxH","./D03_37_20171301_20160228_disch.120.png":"qHai","./D03_37_20172203_20160228_disch.120.png":"0Cxw","./D03_37_20172403_20160228_disch.120.png":"ANbW"}],"zyOL":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}function r(r){return e(r[0],r[r.length-1])||r.push(r[0]),r}function t(e){for(var r,t=0,n=0,i=e.length,o=e[n];n<i-1;n++)t+=((r=e[n+1])[0]-o[0])*(r[1]+o[1]),o=r;return t>=0}function n(e,r,t,n){var i=(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0]),o=(r[0]-e[0])*(e[1]-t[1])-(r[1]-e[1])*(e[0]-t[0]),a=(n[1]-t[1])*(r[0]-e[0])-(n[0]-t[0])*(r[1]-e[1]);if(0!==a){var s=i/a,u=o/a;if(s>=0&&s<=1&&u>=0&&u<=1)return!0}return!1}function i(e,r){for(var t=0;t<e.length-1;t++)for(var i=0;i<r.length-1;i++)if(n(e[t],e[t+1],r[i],r[i+1]))return!0;return!1}function o(e,r){for(var t=!1,n=-1,i=e.length,o=i-1;++n<i;o=n)(e[n][1]<=r[1]&&r[1]<e[o][1]||e[o][1]<=r[1]&&r[1]<e[n][1])&&r[0]<(e[o][0]-e[n][0])*(r[1]-e[n][1])/(e[o][1]-e[n][1])+e[n][0]&&(t=!t);return t}function a(e,r){var t=i(e,r),n=o(e,r[0]);return!(t||!n)}function s(e){for(var n,o,s=[],u=[],c=0;c<e.length;c++){var l=r(e[c].slice(0));if(!(l.length<4))if(t(l)){var f=[l.slice().reverse()];s.push(f)}else u.push(l.slice().reverse())}for(var p=[];u.length;){o=u.pop();var g=!1;for(n=s.length-1;n>=0;n--)if(a(s[n][0],o)){s[n].push(o),g=!0;break}g||p.push(o)}for(;p.length;){o=p.pop();var y=!1;for(n=s.length-1;n>=0;n--)if(i(s[n][0],o)){s[n].push(o),y=!0;break}y||s.push([o.reverse()])}return 1===s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}function u(e){var n=[],i=e.slice(0),o=r(i.shift().slice(0));if(o.length>=4){t(o)||o.reverse(),n.push(o);for(var a=0;a<i.length;a++){var s=r(i[a].slice(0));s.length>=4&&(t(s)&&s.reverse(),n.push(s))}}return n}function c(e){for(var r=[],t=0;t<e.length;t++)for(var n=u(e[t]),i=n.length-1;i>=0;i--){var o=n[i].slice(0);r.push(o)}return r}function l(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function f(e,r){for(var t=r?[r,"OBJECTID","FID"]:["OBJECTID","FID"],n=0;n<t.length;n++){var i=t[n];if(i in e&&("string"==typeof e[i]||"number"==typeof e[i]))return e[i]}throw Error("No valid id attribute found")}function p(e,r){var t={};if(e.features){t.type="FeatureCollection",t.features=[];for(var n=0;n<e.features.length;n++)t.features.push(p(e.features[n],r))}if("number"==typeof e.x&&"number"==typeof e.y&&(t.type="Point",t.coordinates=[e.x,e.y],"number"==typeof e.z&&t.coordinates.push(e.z)),e.points&&(t.type="MultiPoint",t.coordinates=e.points.slice(0)),e.paths&&(1===e.paths.length?(t.type="LineString",t.coordinates=e.paths[0].slice(0)):(t.type="MultiLineString",t.coordinates=e.paths.slice(0))),e.rings&&(t=s(e.rings.slice(0))),"number"==typeof e.xmin&&"number"==typeof e.ymin&&"number"==typeof e.xmax&&"number"==typeof e.ymax&&(t.type="Polygon",t.coordinates=[[[e.xmax,e.ymax],[e.xmin,e.ymax],[e.xmin,e.ymin],[e.xmax,e.ymin],[e.xmax,e.ymax]]]),(e.geometry||e.attributes)&&(t.type="Feature",t.geometry=e.geometry?p(e.geometry):null,t.properties=e.attributes?l(e.attributes):null,e.attributes))try{t.id=f(e.attributes,r)}catch(i){}return JSON.stringify(t.geometry)===JSON.stringify({})&&(t.geometry=null),e.spatialReference&&e.spatialReference.wkid&&4326!==e.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(e.spatialReference)),t}function g(e,r){r=r||"OBJECTID";var t,n={wkid:4326},i={};switch(e.type){case"Point":i.x=e.coordinates[0],i.y=e.coordinates[1],i.spatialReference=n;break;case"MultiPoint":i.points=e.coordinates.slice(0),i.spatialReference=n;break;case"LineString":i.paths=[e.coordinates.slice(0)],i.spatialReference=n;break;case"MultiLineString":i.paths=e.coordinates.slice(0),i.spatialReference=n;break;case"Polygon":i.rings=u(e.coordinates.slice(0)),i.spatialReference=n;break;case"MultiPolygon":i.rings=c(e.coordinates.slice(0)),i.spatialReference=n;break;case"Feature":e.geometry&&(i.geometry=g(e.geometry,r)),i.attributes=e.properties?l(e.properties):{},e.id&&(i.attributes[r]=e.id);break;case"FeatureCollection":for(i=[],t=0;t<e.features.length;t++)i.push(g(e.features[t],r));break;case"GeometryCollection":for(i=[],t=0;t<e.geometries.length;t++)i.push(g(e.geometries[t],r))}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.arcgisToGeoJSON=p,exports.geojsonToArcGIS=g,exports.default=void 0;var y={arcgisToGeoJSON:p,geojsonToArcGIS:g};exports.default=y;
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=m(require("./images/inundation_0.5.png")),t=m(require("./images/inundation_1.0.png")),a=m(require("./images/inundation_1.5.png")),r=m(require("./images/inundation_2.0.png")),i=m(require("./images/inundation_2.5.png")),o=m(require("./images/inundation_3.0.png")),n=m(require("./images/inundation_3.5.png")),s=m(require("./images/inundation_4.0.png")),l=m(require("./images/inundation_4.5.png")),d=m(require("./images/inundation_5.0.png")),c=m(require("./images/simwe/data_file")),u=m(require("./images/simwe/*.png")),p=require("@esri/arcgis-to-geojson-utils");function m(e){return e&&e.__esModule?e:{default:e}}mapboxgl.accessToken="pk.eyJ1IjoiY3R3aGl0ZSIsImEiOiJjaWtveG9pNGMwejRwdjBrbTAweXZneXR0In0.lB9aylODHdN8w7vAakxeDQ";var g=new mapboxgl.Map({container:"map",zoom:12,center:[-78.6319,35.7099],pitch:45,style:"mapbox://styles/ctwhite/cjtnhxudz2j4l1fs74h5hygce",hash:!0}).addControl(new mapboxgl.NavigationControl);function h(e){return[[e[1][1],e[1][0]],[e[0][1],e[1][0]],[e[0][1],e[0][0]],[e[1][1],e[0][0]]]}g.on("load",function(){function m(e){var t=15;switch(e){case"Household":t=17;break;case"Neighborhood":t=15;break;case"City":t=12;break;case"Region":t=10;break;default:t=15}return t}function f(e){g.flyTo({center:e.geometry.coordinates,zoom:m(e.properties.what_spatial_scales_does_this_p)})}function y(e){var t=document.getElementsByClassName("mapboxgl-popup");t[0]&&t[0].remove();new mapboxgl.Popup({closeOnClick:!0}).setLngLat(e.geometry.coordinates).setHTML("<h3>".concat(e.properties.why_is_this_location_a_problem,"</h3>")+"<h4><strong>Difficulty: </strong>"+e.properties.how_challenging_is_this_problem+"</h4><h4><strong>Challenge: </strong>"+e.properties.why_is_this_location_a_problem+"</h4><h4><strong>Obstacle: </strong>"+e.properties.what_is_the_greatest_barrier_to+"</h4><h4><strong>Supplies: </strong>"+e.properties.what_actions_can_be_taken_to_fi+"</h4><h4>Get Started!</h4>").addTo(g)}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var _=9,v=[e.default,t.default,a.default,r.default,i.default,o.default,n.default,s.default,l.default,d.default];function b(e){if(e.features.length!==w.length)for(L=0;L<e.features.length;L++){var t=e.features[L].properties,a=document.getElementById("listings").appendChild(document.createElement("div"));a.className="item",a.id="listing-"+L;var r=a.appendChild(document.createElement("a"));r.href="#",r.className="level-title",r.dataPosition=L,r.innerHTML=t.why_is_this_location_a_problem,r.addEventListener("click",function(t){var a=e.features[this.dataPosition];f(a),y(a);var r=document.getElementsByClassName("active");r[0]&&r[0].classList.remove("active"),this.parentNode.classList.add("active")});var i=a.appendChild(document.createElement("div"));i.innerHTML=t.how_challenging_is_this_problem,t.phone&&(i.innerHTML+=" Â· "+t.phoneFormatted)}}g.addSource("floodOverlay",{type:"image",url:v[_],coordinates:[[-78.7746204947222,35.8096093825],[-78.6083031766667,35.8096093825],[-78.6083031766667,35.6875072969444],[-78.7746204947222,35.6875072969444]]}),g.addLayer({id:"floodOverlay",source:"floodOverlay",type:"raster",paint:{"raster-opacity":.85,"raster-fade-duration":0}}),c.default.forEach(function(e){console.log(u.default[e.title]),g.addSource(e.title,{type:"image",url:u.default[e.title],coordinates:h(e.bounds)}),g.addLayer({id:e.title,source:e.title,type:"raster",paint:{"raster-opacity":.6,"raster-fade-duration":2}})});var w=fetch("https://services1.arcgis.com/aT1T0pU1ZdpuDk1t/ArcGIS/rest/services/survey123_571499fe84ac4125abe48b793b9970a3_stakeholder/FeatureServer/0/query?f=json&returnGeometry=true&inSR=102100&outFields=*&outSR=4326&where=1=1",{cache:"reload"}).then(function(e){return e.json()}).then(function(e){return(0,p.arcgisToGeoJSON)(e)}).then(function(e){return console.log("levels",e),g.addSource("levels",{type:"geojson",data:e}),g.addLayer({id:"levels",source:"levels",type:"circle",paint:{"circle-radius":10,"circle-color":"#FFE100","circle-opacity":.8}}),g.addLayer({id:"earthquakes-heat",type:"heatmap",source:"levels",maxzoom:9,paint:{"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,9,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(33,102,172,0)",.2,"rgb(103,169,207)",.4,"rgb(209,229,240)",.6,"rgb(253,219,199)",.8,"rgb(239,138,98)",1,"rgb(178,24,43)"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,9,20],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,0]}}),b(e),g.on("click",function(t){var a,r=g.queryRenderedFeatures(t.point,{layers:["levels"]});if(r.length){var i=r[0];f(i),y(i);var o=document.getElementsByClassName("active");o[0]&&o[0].classList.remove("active");for(var n=i.properties.ObjectId,s=0;s<e.features.length;s++)e.features[s].properties.ObjectId===n&&(a=s);document.getElementById("listing-"+a).classList.add("active")}}),e});g.getSource("composite")||g.addSource("composite",{type:"vector",url:"mapbox://mapbox.mapbox-streets-v7"});for(var x,q=g.getStyle().layers,L=0;L<q.length;L++)if("symbol"===q[L].type&&q[L].layout["text-field"]){x=q[L].id;break}g.addLayer({id:"3d-buildings",source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:14,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["interpolate",["linear"],["zoom"],14,0,14.05,["get","height"]],"fill-extrusion-base":["interpolate",["linear"],["zoom"],14,0,14.05,["get","min_height"]],"fill-extrusion-opacity":1}},x)});
},{"./images/inundation_0.5.png":"+gri","./images/inundation_1.0.png":"AyWZ","./images/inundation_1.5.png":"1UVG","./images/inundation_2.0.png":"b6cs","./images/inundation_2.5.png":"zk5D","./images/inundation_3.0.png":"QUR0","./images/inundation_3.5.png":"Vmp+","./images/inundation_4.0.png":"9i6f","./images/inundation_4.5.png":"OwJT","./images/inundation_5.0.png":"p/W+","./images/simwe/data_file":"ArK8","./images/simwe/*.png":"RjcH","@esri/arcgis-to-geojson-utils":"zyOL"}]},{},["Focm"], null)
//# sourceMappingURL=/hydro-grass-viz/hydro-grass-viz.8170e53c.map